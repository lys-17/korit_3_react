## aixos 라이브러리 이용
외부 라이브러리이기 때문에
터미널에서 npm install axios

과정
1. 터미널에서 npm install axios
2. axios를 사용하기 전에 리액트 컴포넌트 상에서 
```tsx
import axios from 'axios';
```
axios 라이브러리에는 JSON 데이터의 자동 변환 등의 이점이 있어 response.json()형태로 .json() 메서드를 호출할 필요가 없음.
```tsx
axios.get('http://someapi.com')
.then(respoense => console.log(response))
.catch(error => console.log(error))
```
이상의 코드는 fetch를 사용한 .then() 구문과 비교할 것

axios 라이브러리에는 HTTP메서드를 호출하는 _전용 메서드_ 가 있음. 예를 들어 POST 요청을 하고, 요청 본문에 객체를전송하려는 경우 axios.post()를 사용함.

```tsx
axois.post('http://someapi.com', {newObject})   // 전송하고자 하는 객체
.then(respoense => console.log(response))
.catch(error => console.log(error))
```
혹은 axios() _함수_ 를 이용하는 방법 (axois.post()는 post 메서드임. python에서 한 것처럼 점 찍고 작성하는지 아닌지에 따라 function / method의 구분이 일어난다는 점을 명시)

print("여기에 뭐 쓰면 콘솔에 출력됐었음")
객체명.메서드명()
배열명.map(callback함수);

axios 함수 사용 예시
```tsx
const response => await axios({
  method: 'POST',
  url: 'http://myapi.com/api/cars',
  headers: {'Content-Type': 'application/json' },
  data: {brand: 'Fors', model: 'Ranger'}
});
```
위의 예시 코드는 http://myapi.com/api/cars 엔드포인트로 POST 요청을 보냄. 요청 본문에는 객체가 포함되고, Axios 라이브러리는 자동으로 데이터를 문자열화(stingify)함(JSON 문자열 데이터로 만들어준다는 의미임 그래서 postman에서는 전체 JSON으로 작성했는데, 여기서는 JS 객체 형태로 작성한거임)

# OpenWeather API
날씨를 보여주는 리액트 앱을 만들거임
온도, 설명, 날씨 아이콘을 포함시킬 거고, 데이터는 https://openweathermap.org/ 에서 가져옴.
외부 데이터 수집 및 가공을 할 예정

App.jsx가 초기화되었다고 가정한 상태에서
1. 날씨 응답 데이터를 저장하는 데 필요한 상태를 추가할 거임. 앱에 온도, 설명, 날씨 아이콘을 표시할거기 때문에 객체를 통해 상태 전체를 통제

firstName / lastName / email이 아니라 user로 작성했던 것을 기억
```jsx
import { useState } from 'react'
import './App.css'

function App() {
  const [weather, setWeather] = useState ({
    temp: '',
    desc: '',
    icon: ''
  });

  return (
    <>
      
    </>
  )
}

export default App
```

2. REST API를 이용하는 경우에 응답을 검사하여 JSON 데이터의 포맷을 확인해봐야함. 예를 들어
https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey= 내 apikey

```json
{
  "coord": {
    "lon": 129.0403,
    "lat": 35.1028
  },
  "weather": [
    {
      "id": 800,
      "main": "Clear",
      "description": "clear sky",
      "icon": "01d"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 291.14,
    "feels_like": 290.77,
    "temp_min": 291.14,
    "temp_max": 291.14,
    "pressure": 1019,
    "humidity": 68,
    "sea_level": 1019,
    "grnd_level": 1014
  },
  "visibility": 10000,
  "wind": {
    "speed": 0.51,
    "deg": 320
  },
  "clouds": {
    "all": 0
  },
  "dt": 1748221412,
  "sys": {
    "type": 1,
    "id": 8086,
    "country": "KR",
    "sunrise": 1748204013,
    "sunset": 1748255309
  },
  "timezone": 32400,
  "id": 1838524,
  "name": "Busan",
  "cod": 200
}
```
브라우저 상의 응답 데이터를 확인했을 때 main.temp를 이용하면 온도를 조회할 수 있고, weather[0].description.과 weather[0].icon을 통해서 각각 설명과 아이콘을 조회할 수 있음.

3. useEffect를 사용해, useEffect()는 상태의 변화에 따라서 렌더링을 할 것인가 말것인가 지정할 수 있음
* 최초 렌더링 시에만 api를 참조하고 싶다면 어떻게 작성했었는지 생각해야 함.
```jsx
import { useState } from 'react'
import './App.css'

function App() {
  const [weather, setWeather] = useState ({
    temp: '',
    desc: '',
    icon: ''
  });

  useEffect(() => {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=1100fb9f2eda53f92625c834248c303f')
    .then(response => response.json())      // data라고 주로 씀
    .then(result => {
      setWeather({
        temp:result.main.temp,
        desc:result.weater[0].description,
        icon:result.weater[0].icon,
      });
    })
    .catch(err => console.log(err));
  }, []);       // 최초 렌더링 시에서 api를 가져와 조회한다는 표시

  return (
    <>
      
    </>
  )
}

export default App
```
이상을 작성하고 나서 개발자 도구 상에서 components 탭을 확인해보면, weather 객체에 값이 들어가 있는 것을 확인할 수 있음. 이는 최초 렌더링이 일어났을 때 바로 setWeather 함수가 실행되기 때문임. 

weather 객체에 값이 정확하게 들어가 있는 것을 확인했지만, 브라우저 상에서는 아무 것도 보이지 않음. return문이 `<></>`상태기 때문임. 그러면 객체 내의 properties를 적절하게 return문에 명시해주면 브라우저 상에서 확인할 수 있음.
```jsx
import { useState, useEffect } from 'react'
import './App.css'

function App() {
  const [ weather, setWeather ] = useState({
    temp: '', 
    desc: '', 
    icon: ''
  });

  useEffect(() => {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=08315439ef75a9358a09e997111e70c9')
    .then(response => response.json())
    .then(result => {         // 금요일에는 data라고 주로 썼었습니다.
      setWeather({
        temp: result.main.temp,
        desc: result.weather[0].description,
        icon: result.weather[0].icon,
      });
    })
    .catch(err => console.log(err));
  }, []);


  if (weather.icon) {
    return (
      <>
        <p>온도 : {weather.temp}</p>
        <p>설명 : {weather.desc}</p>
        <p>아이콘 : {weather.icon}</p>// 이렇게 확인하면 json 데이터를 조회하기 때문에 string으로 나옵니다.
        <img src={`http://openweathermap.org/img/wn/${weather.icon}@2x.png`} alt="날씨아이콘입니다." />
      </>
    )
  } else {
    return <h1>로딩 중 ... 🎞</h1>
  }
}

export default App
```
4. 이상의 코드를 통해 날씨를 구현할 수 있게 되었음. 주의해야할 점은 weather.icon 내에는 string 데이터만 들어가 있기 때문에 ㅑmg 태그를 통해서 불러온다고 하더라도 alt만 나오게 됨. 이를 조회하는 방법은  http://openweathermap.org/img/wn/에서 아이콘 코드를 추가한 후, 뒤에 @2x.png를 명시해줘야 함.


# Github API
키워드별로 리포지토리를 검색해오는 앱을 만들 예정임. 웹 요청에서는 axios 라이브러리를 사용할거고, TS도 연습할 거임. 

TS로 axios를 이용하여 GET 요청을 보내는 예제 코드를 설명.
```tsx
import axios from 'axios';

type MyDataType = {
  id:number,
  name: string;
}

axios.get<MyDataType>(apiUrl)
.then(respoense => console.log(response))
.catch(err => console.log(err));
```
예상 데이터 타입에 없는 일부 필드에 접근하려고 하면 개발 단계 초기에 오류가 발생함(여태까지와 다르게 외부 API를 사용하고 있기 때문에 각 properties에 어떤 값이 들어가 있는지 명확하게 알지 못하는 상황이 이제는 자주 발생할게 됨). 이 시점에서 TS는 JS로 컴파일되며 모든 탑일 정보가 제거되는데, 타입 스크립트는 런타임 작동에 영향을 미치지 않음. REST API가 예상과 다른 데이터를 반환하는 경우 TS는 이를 런타임 오류로 포착할 수 없음.
















## restgithub 코딩 과정
1. 리포지토리를 검색하기 위한 Github REST API의 URL
https://api.github.com/search/repositories?q=
https://api.github.com/search/repositories?q=korit_3

이상의 링클를 들어가서 확인해보면 JSON 데이터가 있음. 거기서 items 배열 내에 있는 객체의 full_name 속성을 가지고 올 거임. 그리고 html_url도 가지고 와서 클릭했을 때 해당 리포지토리를 확인할 수 있도록 작성할 거임. 

그러면 searchingWord에 상태가 업데이트 됐을 때, 그 결과값이 배열로 저장이 될거고, 그걸 풀어서 fountend 페이지에 보여줘야 함. 그러면 .map()를 써야함.

그때는 .map()를 썼을 때 두 번째 argument로 index를 썼지만, 이제는 고유값을 참조할 수 있음

그리고 이번에 참조해야 할 것은 useEffect()에서 두 번째 argument----------



```jsx
import {useState, useEffect} from 'react';
import './App.css'

type Respository = {
  id:number;
  full_name: string;
  html_url: string;
}

function App() {
  const [keyword, setKeyword] = useState('');
  const [repodata, setRepodata] = useState<Respository[]>([]);

  const handleClick = () => {
    // REST API 호출
  }

  return (
    <>
    <input type="text" value={keyword} onChange={event => setKeyword (event.target.value)}/>
    <br />
    <br />
    <button onClick={handleClick}>검색</button>
    </>
  )
}

export default App
```
2. handleClick() 함수를 작성할건데, 버튼을 클릭했을 때 api를 참조해야 함. 그리고 input에서 지정된 keyword





3. 이제 불러오는 것까지는 완료했기 때문에 필요한 데이터만 뽑아내서 return문에 작성하여 사용자들에게 